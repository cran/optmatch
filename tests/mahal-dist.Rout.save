
R version 2.5.1 (2007-06-27)
Copyright (C) 2007 The R Foundation for Statistical Computing
ISBN 3-900051-07-0

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

  Natural language support but running in an English locale

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> require('optmatch')
Loading required package: optmatch
You're loading optmatch, by Ben Hansen, a package for flexible
 and optimal matching.  Important license information:
 The optmatch package makes essential use of D. P. Bertsekas
 and P. Tseng's RELAX-IV algorithm and code, as well as
 Bertsekas' AUCTION algorithm and code.
 Bertsekas and Tseng freely permit their software to be used for
 research purposes, but non-research uses, including the use of it
 to 'satisfy in any part commercial delivery requirements to
 government or industry,' require a special agreement with them.
 By extension, this requirement applies to any use of the 
 fullmatch() function. (If you are using another package that has
 loaded optmatch, then you will probably be using fullmatch indirectly.)
 For more information, enter relaxinfo() at the command line
[1] TRUE
> data(nuclear, package="boot")
> mahal.dist(pr~date+cum.n, nuclear)
$m
       1    2      4     6     7     8    10    11    12   13    14    15    16
3   4.10  0.0  3.000  0.33 0.710 1.600 1.100 1.700 1.900 1.40 2.400  5.50 1.200
5   0.32  3.0  0.000  2.60 2.000 5.500 4.400 4.500 3.100 4.70 3.100  0.82 3.900
9   2.50  1.1  2.600  0.24 0.084 0.550 0.260 0.250 0.100 0.31 0.240  3.20 0.140
18  4.60  1.4  4.700  0.49 0.570 0.035 0.011 0.031 0.390 0.00 0.610  5.50 0.035
20  1.90  2.5  2.600  1.00 0.540 1.200 0.880 0.620 0.097 0.87 0.035  2.20 0.610
22  5.30 14.0  8.200 10.00 8.200 9.700 9.200 8.000 5.900 9.00 5.100  4.00 8.400
24 11.00  9.0 13.000  6.30 6.000 3.100 3.700 3.000 3.600 3.40 3.500 11.00 3.700
30  0.54  2.6  0.033  2.40 1.900 5.300 4.200 4.400 3.100 4.50 3.200  1.20 3.800
31  1.70  1.8  0.600  2.30 2.100 5.500 4.400 4.800 3.900 4.80 4.200  2.80 4.100
32  0.54  2.6  0.033  2.40 1.900 5.300 4.200 4.400 3.100 4.50 3.200  1.20 3.800
    17   19    21  23    25     26    27     28     29
3  7.0 4.60  4.80 8.0 11.00 15.000  1.80  1.500  2.600
5  2.1 9.10  0.54 2.6  5.60  9.000  0.60  0.810  0.033
9  3.5 2.00  2.80 4.1  5.50  8.300  3.00  2.800  2.600
18 5.5 0.97  5.00 6.2  7.30 10.000  4.80  4.400  4.500
20 2.0 2.20  2.00 2.4  3.30  5.500  3.80  3.700  2.700
22 2.0 8.70  4.60 1.7  0.25  0.031 13.00 13.000  9.100
24 9.2 0.82 11.00 9.5  7.70  8.300 15.00 15.000 13.000
30 2.6 9.10  0.82 3.2  6.30 10.000  0.35  0.520  0.000
31 4.8 9.80  2.20 5.6  9.50 14.000  0.00  0.024  0.350
32 2.6 9.10  0.82 3.2  6.30 10.000  0.35  0.520  0.000

> mahal.dist(~date+cum.n, nuclear, pr~pt)
$`0`
       1    2    4     6     7     8    10    11    12   13    14    15    16
3   4.10  0.0  3.0  0.33 0.710 1.600 1.100 1.700 1.900 1.40 2.400  5.50 1.200
5   0.32  3.0  0.0  2.60 2.000 5.500 4.400 4.500 3.100 4.70 3.100  0.82 3.900
9   2.50  1.1  2.6  0.24 0.084 0.550 0.260 0.250 0.100 0.31 0.240  3.20 0.140
18  4.60  1.4  4.7  0.49 0.570 0.035 0.011 0.031 0.390 0.00 0.610  5.50 0.035
20  1.90  2.5  2.6  1.00 0.540 1.200 0.880 0.620 0.097 0.87 0.035  2.20 0.610
22  5.30 14.0  8.2 10.00 8.200 9.700 9.200 8.000 5.900 9.00 5.100  4.00 8.400
24 11.00  9.0 13.0  6.30 6.000 3.100 3.700 3.000 3.600 3.40 3.500 11.00 3.700
    17   19    21  23    25     26
3  7.0 4.60  4.80 8.0 11.00 15.000
5  2.1 9.10  0.54 2.6  5.60  9.000
9  3.5 2.00  2.80 4.1  5.50  8.300
18 5.5 0.97  5.00 6.2  7.30 10.000
20 2.0 2.20  2.00 2.4  3.30  5.500
22 2.0 8.70  4.60 1.7  0.25  0.031
24 9.2 0.82 11.00 9.5  7.70  8.300

$`1`
     27    28   29
30 0.35 0.520 0.00
31 0.00 0.024 0.35
32 0.35 0.520 0.00

> cum.n.q <- cut(nuclear$cum.n, quantile(nuclear$cum.n), include.lowest=TRUE)
> mahal.dist(pr~date+cum.n.q, nuclear)
$m
      1    2      4     6     7   8     10   11    12  13    14   15  16   17
3   6.6  0.0 11.000  0.68 10.00 2.3  1.900 3.00 13.00 2.3 14.00  6.7 2.3  7.8
5  13.0 11.0  0.000  8.30 11.00 7.3  7.400 7.10 11.00 7.3 11.00 11.0 7.3  9.5
9  13.0 11.0 11.000  9.40  0.12 8.8  8.800 8.80  0.21 8.8  0.49 12.0 8.8 10.0
18  9.5  2.3  7.300  0.49  8.80 0.0  0.016 0.05  9.10 0.0  9.40  8.1 0.0  6.8
20 20.0 17.0  1.600 13.00 14.00 9.9 10.000 9.20 12.00 9.9 11.00 17.0 9.9 13.0
22 11.0 16.0 10.000 12.00 13.00 9.0  9.400 8.30 11.00 9.0 10.00  7.8 9.0  3.9
24 23.0 15.0 11.000  9.10 15.00 5.4  6.000 4.40 12.00 5.4 11.00 19.0 5.4 14.0
30 12.0  9.9  0.056  7.80 11.00 7.1  7.200 7.10 11.00 7.1 11.00 11.0 7.1  9.1
31  9.9  7.8  1.100  7.10 11.00 7.6  7.400 7.90 12.00 7.6 13.00  9.1 7.6  8.9
32 12.0  9.9  0.056  7.80 11.00 7.1  7.200 7.10 11.00 7.1 11.00 11.0 7.1  9.1
     19   21   23    25    26    27   28     29
3   6.6  6.6  8.3 12.00 17.00  7.80  8.8  9.900
5   7.6 12.0  9.1  9.00 11.00  1.10 15.0  0.056
9   9.6 12.0  9.9 10.00 13.00 11.00  3.0 11.000
18  1.1  8.8  6.6  7.30  9.70  7.60 11.0  7.100
20  7.5 19.0 12.0  9.50  8.80  5.40 21.0  2.300
22  6.8  9.2  3.0  0.49  0.05 14.00 20.0 11.000
24  1.6 21.0 13.0  8.70  6.90 16.00 24.0 12.000
30  8.0 11.0  8.9  9.30 11.00  0.65 14.0  0.000
31 10.0  9.5  9.0 11.00 15.00  0.00 12.0  0.650
32  8.0 11.0  8.9  9.30 11.00  0.65 14.0  0.000

> mahal.dist(~date+cum.n.q, nuclear, pr~pt)
$`0`
      1    2    4     6     7   8     10   11    12  13    14   15  16   17  19
3   6.6  0.0 11.0  0.68 10.00 2.3  1.900 3.00 13.00 2.3 14.00  6.7 2.3  7.8 6.6
5  13.0 11.0  0.0  8.30 11.00 7.3  7.400 7.10 11.00 7.3 11.00 11.0 7.3  9.5 7.6
9  13.0 11.0 11.0  9.40  0.12 8.8  8.800 8.80  0.21 8.8  0.49 12.0 8.8 10.0 9.6
18  9.5  2.3  7.3  0.49  8.80 0.0  0.016 0.05  9.10 0.0  9.40  8.1 0.0  6.8 1.1
20 20.0 17.0  1.6 13.00 14.00 9.9 10.000 9.20 12.00 9.9 11.00 17.0 9.9 13.0 7.5
22 11.0 16.0 10.0 12.00 13.00 9.0  9.400 8.30 11.00 9.0 10.00  7.8 9.0  3.9 6.8
24 23.0 15.0 11.0  9.10 15.00 5.4  6.000 4.40 12.00 5.4 11.00 19.0 5.4 14.0 1.6
     21   23    25    26
3   6.6  8.3 12.00 17.00
5  12.0  9.1  9.00 11.00
9  12.0  9.9 10.00 13.00
18  8.8  6.6  7.30  9.70
20 19.0 12.0  9.50  8.80
22  9.2  3.0  0.49  0.05
24 21.0 13.0  8.70  6.90

$`1`
     27 28   29
30 0.65 14 0.00
31 0.00 12 0.65
32 0.65 14 0.00

> 
